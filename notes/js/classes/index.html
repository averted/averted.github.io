<!DOCTYPE html>
<html lang="en" dir=>

<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Classes #  Overview #   Class declarations, unlike functions, are not hoisted All methods are nonenumerable Calling class constructor without new throws an error (new.target always exists)  Classes as First-Class Citizens #  A first-class citizen is a value that can be passed into a function, returned from a function, and assigned to a variable. Every JS Function is a first-class citizen, and Classes are as well (can be passed around as arguments inside a fn).">
<meta name="theme-color" content="#FFFFFF"><meta property="og:title" content="" />
<meta property="og:description" content="Classes #  Overview #   Class declarations, unlike functions, are not hoisted All methods are nonenumerable Calling class constructor without new throws an error (new.target always exists)  Classes as First-Class Citizens #  A first-class citizen is a value that can be passed into a function, returned from a function, and assigned to a variable. Every JS Function is a first-class citizen, and Classes are as well (can be passed around as arguments inside a fn)." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://averted.github.io/notes/js/classes/" />

<title>Classes | Notes</title>
<link rel="manifest" href="/notes/manifest.json">
<link rel="icon" href="/notes/favicon.png" type="image/x-icon">
<link rel="stylesheet" href="/notes/book.min.525b62cc59c40c7cc41b0d8b36a0163657cb4419334e5ee03f3a787fa6f00325.css" integrity="sha256-UltizFnEDHzEGw2LNqAWNlfLRBkzTl7gPzp4f6bwAyU=">
<script defer src="/notes/en.search.min.d74ae9b301465c2792a084c6f7ba6b520f4479b45d7735a1c8698250a6a24118.js" integrity="sha256-10rpswFGXCeSoITG97prUg9EebRddzWhyGmCUKaiQRg="></script>
<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->

  
</head>

<body dir=>
  <input type="checkbox" class="hidden toggle" id="menu-control" />
  <input type="checkbox" class="hidden toggle" id="toc-control" />
  <main class="container flex">
    <aside class="book-menu">
      
  <nav>
<h2 class="book-brand">
  <a href="/notes"><span>Notes</span>
  </a>
</h2>


<div class="book-search">
  <input type="text" id="book-search-input" placeholder="Search" aria-label="Search" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>











  

  



  
  <ul>
    
      
        <li class="book-section-flat" >
          
  
  

  
    <span>Git</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="https://averted.github.io/notes/git/all/" class="">All</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <span>Vim</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="https://averted.github.io/notes/vim/buffers/" class="">Buffers</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <span>Shell</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="https://averted.github.io/notes/shell/files/" class="">Files</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://averted.github.io/notes/shell/networking/" class="">Networking</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://averted.github.io/notes/shell/postgres/" class="">Postgres</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <span>JavaScript</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="https://averted.github.io/notes/js/classes/" class=" active">Classes</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://averted.github.io/notes/js/iterators/" class="">Iterators / Generators</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>















</nav>




  <script>(function(){var menu=document.querySelector("aside.book-menu nav");addEventListener("beforeunload",function(event){localStorage.setItem("menu.scrollTop",menu.scrollTop);});menu.scrollTop=localStorage.getItem("menu.scrollTop");})();</script>


 
    </aside>

    <div class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/notes/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <strong>Classes</strong>

  <label for="toc-control">
    
    <img src="/notes/svg/toc.svg" class="book-icon" alt="Table of Contents" />
    
  </label>
</div>


  
  <aside class="hidden clearfix">
    
  <nav id="TableOfContents">
  <ul>
    <li><a href="#classes">Classes</a>
      <ul>
        <li><a href="#overview">Overview</a></li>
        <li><a href="#classes-as-first-class-citizens">Classes as First-Class Citizens</a></li>
        <li><a href="#accessor-properties">Accessor Properties</a></li>
        <li><a href="#computed-member-names">Computed Member Names</a></li>
        <li><a href="#inheritance-with-derived-classes">Inheritance with Derived Classes</a></li>
        <li><a href="#symbolspecies-property"><code>Symbol.species</code> property</a></li>
        <li><a href="#newtarget-in-class-constructors"><code>new.target</code> in Class Constructors</a></li>
        <li><a href="#experiments">Experiments</a></li>
      </ul>
    </li>
  </ul>
</nav>


  </aside>
  
 
      </header>

      
      
  <article class="markdown"><h2 id="classes">
  Classes
  <a class="anchor" href="#classes">#</a>
</h2>
<h3 id="overview">
  Overview
  <a class="anchor" href="#overview">#</a>
</h3>
<ul>
<li>Class declarations, unlike functions, are not hoisted</li>
<li>All methods are nonenumerable</li>
<li>Calling class constructor without new throws an error (<code>new.target</code> always exists)</li>
</ul>
<h3 id="classes-as-first-class-citizens">
  Classes as First-Class Citizens
  <a class="anchor" href="#classes-as-first-class-citizens">#</a>
</h3>
<p>A <strong>first-class citizen</strong> is a value that can be passed into a function, returned from a function, and assigned to a variable.
Every JS Function is a first-class citizen, and Classes are as well (can be passed around as arguments inside a fn).</p>
<h3 id="accessor-properties">
  Accessor Properties
  <a class="anchor" href="#accessor-properties">#</a>
</h3>
<p>Classes allow you to define <strong>accessor properties</strong> on the prototype. Ie:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">CustomHTMLElement</span> {
  <span style="color:#a6e22e">constructor</span>(<span style="color:#a6e22e">elment</span>) {
    <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">element</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">element</span>;
  }

  <span style="color:#a6e22e">get</span> <span style="color:#a6e22e">html</span>() {
    <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">element</span>.<span style="color:#a6e22e">innerHTML</span>;
  }

  <span style="color:#a6e22e">set</span> <span style="color:#a6e22e">html</span>(<span style="color:#a6e22e">value</span>) {
    <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">element</span>.<span style="color:#a6e22e">innerHTML</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">value</span>;
  }
}
</code></pre></div><h3 id="computed-member-names">
  Computed Member Names
  <a class="anchor" href="#computed-member-names">#</a>
</h3>
<p>Class methods and accessor properties can also have computed names: Ie:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">methodName</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;sayName&#39;</span>;
<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">propertyName</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;html&#39;</span>;

<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Person</span> {
  <span style="color:#a6e22e">constructor</span>(<span style="color:#a6e22e">name</span>, <span style="color:#a6e22e">element</span>) {
    <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">name</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">name</span>;
    <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">element</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">element</span>;
  }

  [<span style="color:#a6e22e">methodName</span>]() {
    <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">name</span>);
  }

  <span style="color:#a6e22e">get</span> [<span style="color:#a6e22e">propertyName</span>]() {
    <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">element</span>.<span style="color:#a6e22e">innerHTML</span>;
  }

  <span style="color:#a6e22e">set</span> [<span style="color:#a6e22e">propertyName</span>](<span style="color:#a6e22e">value</span>) {
    <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">element</span>.<span style="color:#a6e22e">innerHTML</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">value</span>;
  }
}
</code></pre></div><h3 id="inheritance-with-derived-classes">
  Inheritance with Derived Classes
  <a class="anchor" href="#inheritance-with-derived-classes">#</a>
</h3>
<p>Classes that inherit from other classes are called <em>derived classes</em>.
Derived classes require you to use <code>super()</code> if you specify a constructor.</p>
<p>Accepting any type of expression after <code>extends</code> offers powerful possibilities, such as dynamically determining what to inherit from. Ie:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Animal</span> {

}

<span style="color:#66d9ef">function</span> <span style="color:#a6e22e">getBase</span>() {
  <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">Animal</span>;
}

<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Dog</span> <span style="color:#66d9ef">extends</span> <span style="color:#a6e22e">getBase</span>() {

}
</code></pre></div><p>And because you can determine the base class dynamically, it&rsquo;s possible to create different inheritance approaches - for example <em>mixins</em>.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">SerializableMixin</span> <span style="color:#f92672">=</span> {
  <span style="color:#a6e22e">serialize</span>() {
    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">JSON</span>.<span style="color:#a6e22e">stringify</span>(<span style="color:#66d9ef">this</span>);
  }
}

<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">AreaMixin</span> <span style="color:#f92672">=</span> {
  <span style="color:#a6e22e">getArea</span>() {
    <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">lenght</span> <span style="color:#f92672">*</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">width</span>;
  }
}

<span style="color:#66d9ef">function</span> <span style="color:#a6e22e">mixin</span>(...<span style="color:#a6e22e">mixins</span>) {
  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">base</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span>() {};
  Object.<span style="color:#a6e22e">assign</span>(<span style="color:#a6e22e">base</span>.<span style="color:#a6e22e">prototype</span>, ...<span style="color:#a6e22e">mixins</span>);
  <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">base</span>;
}

<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Square</span> <span style="color:#66d9ef">extends</span> <span style="color:#a6e22e">mixin</span>(<span style="color:#a6e22e">AreaMixin</span>, <span style="color:#a6e22e">SerializableMixin</span>) {
  <span style="color:#a6e22e">constructor</span>(<span style="color:#a6e22e">length</span>) {
    <span style="color:#66d9ef">super</span>();
    <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">width</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">length</span>;
    <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">length</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">length</span>;
  }
}

<span style="color:#66d9ef">let</span> <span style="color:#a6e22e">x</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Square</span>(<span style="color:#ae81ff">3</span>);
<span style="color:#a6e22e">x</span>.<span style="color:#a6e22e">getArea</span>();
<span style="color:#a6e22e">x</span>.<span style="color:#a6e22e">serialize</span>();
</code></pre></div><h3 id="symbolspecies-property">
  <code>Symbol.species</code> property
  <a class="anchor" href="#symbolspecies-property">#</a>
</h3>
<p>Any method that returns an instance of a build-in (i.e. Array), will automatically return a derived class instance instead.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">MyArray</span> <span style="color:#66d9ef">extends</span> Array {

}

<span style="color:#66d9ef">let</span> <span style="color:#a6e22e">items</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">MyArray</span>(<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">4</span>)
  , <span style="color:#a6e22e">subitems</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">items</span>.<span style="color:#a6e22e">slice</span>(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">3</span>);

<span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">items</span> <span style="color:#a6e22e">instance</span> <span style="color:#66d9ef">of</span> <span style="color:#a6e22e">MyArray</span>);               <span style="color:#75715e">// true
</span><span style="color:#75715e"></span><span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">subitems</span> <span style="color:#a6e22e">instance</span> <span style="color:#66d9ef">of</span> <span style="color:#a6e22e">MyArray</span>);            <span style="color:#75715e">// true
</span></code></pre></div><p>The <code>Symbol.species</code> is used to define a static accessor property that returns a function.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#75715e">// several built-ins use species similar to this
</span><span style="color:#75715e"></span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">MyClass</span> {
  <span style="color:#66d9ef">static</span> <span style="color:#a6e22e">get</span> [<span style="color:#a6e22e">Symbol</span>.<span style="color:#a6e22e">species</span>]() {
    <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">this</span>;
  }

  <span style="color:#a6e22e">constructor</span>(<span style="color:#a6e22e">value</span>) {
    <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">value</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">value</span>;
  }

  <span style="color:#a6e22e">clone</span>() {
    <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">new</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">constructor</span>[<span style="color:#a6e22e">Symbol</span>.<span style="color:#a6e22e">species</span>](<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">value</span>);
  }
}
</code></pre></div><p>The <code>clone()</code> method uses species to return a new instance rather than directly using <code>MyClass</code>, which allows direved classes to override that value.
In general, you should use <code>Symbol.species</code> property whenever you might want to use <code>this.contructor</code> in a class method.
Doing so allows deived classes to override the return type easily.</p>
<h3 id="newtarget-in-class-constructors">
  <code>new.target</code> in Class Constructors
  <a class="anchor" href="#newtarget-in-class-constructors">#</a>
</h3>
<p>You can use <code>new.target</code> in class constructors to determine how the class is being invoked.
This is useful because it gives each sontructor the ability to alter it&rsquo;s behaviour.
For example you can create an <em>abstract class</em> (a class that can&rsquo;t be initialized directly):</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Shape</span> {
  <span style="color:#a6e22e">constructor</span>() {
    <span style="color:#66d9ef">if</span> (<span style="color:#66d9ef">new</span>.<span style="color:#a6e22e">target</span> <span style="color:#f92672">===</span> <span style="color:#a6e22e">Shape</span>) {
      <span style="color:#66d9ef">throw</span> <span style="color:#66d9ef">new</span> Error(<span style="color:#e6db74">&#39;Abstract class: cannot initialize directly&#39;</span>);
    }
  }
}

<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Rect</span> <span style="color:#66d9ef">extends</span> <span style="color:#a6e22e">Shape</span> {

}

<span style="color:#66d9ef">let</span> <span style="color:#a6e22e">x</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Shape</span>();                  <span style="color:#75715e">// error
</span><span style="color:#75715e"></span><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">y</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Rect</span>(<span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>);               <span style="color:#75715e">// no error
</span><span style="color:#75715e"></span><span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">y</span> <span style="color:#a6e22e">instance</span> <span style="color:#66d9ef">of</span> <span style="color:#a6e22e">Shape</span>);     <span style="color:#75715e">// true
</span></code></pre></div><h3 id="experiments">
  Experiments
  <a class="anchor" href="#experiments">#</a>
</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">SomeElement</span> {
  <span style="color:#a6e22e">constructor</span>() {
    <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">element</span> <span style="color:#f92672">=</span> {
      <span style="color:#a6e22e">value</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;something&#39;</span>,
      <span style="color:#a6e22e">another</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;another&#39;</span>,
    }
  }

  <span style="color:#a6e22e">get</span> <span style="color:#a6e22e">html</span>() {
    <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">element</span>.<span style="color:#a6e22e">value</span>;
  }

  <span style="color:#a6e22e">set</span> <span style="color:#a6e22e">html</span>(<span style="color:#a6e22e">value</span>) {
    <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">element</span>.<span style="color:#a6e22e">value</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">value</span>;
  }
}

<span style="color:#66d9ef">let</span> <span style="color:#a6e22e">some</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">SomeElement</span>();
<span style="color:#a6e22e">some</span>.<span style="color:#a6e22e">html</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;test&#39;</span>
<span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">some</span>)
</code></pre></div></article>
 
      

      <footer class="book-footer">
        
  <div class="flex flex-wrap justify-between">





</div>

 
        
      </footer>

      
  
  <div class="book-comments">

</div>
  
 

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
    <aside class="book-toc">
      
  <nav id="TableOfContents">
  <ul>
    <li><a href="#classes">Classes</a>
      <ul>
        <li><a href="#overview">Overview</a></li>
        <li><a href="#classes-as-first-class-citizens">Classes as First-Class Citizens</a></li>
        <li><a href="#accessor-properties">Accessor Properties</a></li>
        <li><a href="#computed-member-names">Computed Member Names</a></li>
        <li><a href="#inheritance-with-derived-classes">Inheritance with Derived Classes</a></li>
        <li><a href="#symbolspecies-property"><code>Symbol.species</code> property</a></li>
        <li><a href="#newtarget-in-class-constructors"><code>new.target</code> in Class Constructors</a></li>
        <li><a href="#experiments">Experiments</a></li>
      </ul>
    </li>
  </ul>
</nav>

 
    </aside>
    
  </main>

  
</body>

</html>












